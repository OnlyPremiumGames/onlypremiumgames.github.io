<!DOCTYPE html>
<html data-theme="light">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Only Premium Games</title>
    <link rel="stylesheet" href="css/pico.min.css" />
    <script defer src="https://unpkg.com/alpinejs@3.4.2/dist/cdn.min.js"></script>
</head>

<body>
    <header class="container">
        <nav>
            <ul>
                <li><a href="#">Rules</a></li>
                <li><a href="#">About</a></li>
            </ul>
            <ul>
                <li>
                    <a href="#">
                        <svg role="img" aria-hidden="true" focusable="false" viewBox="0 0 350 270" width="100%" height="100%" style="max-width: 350px; max-height: 270px" fill="currentColor" stroke="none" stroke-width="0" xmlns="http://www.w3.org/2000/svg">
                            
                            <!-- Ony -->
                            <!-- Added +1 in 150,61 120,61 61,120 61,150 to get rid of white space. -->
                            <polygon points="0,0 150,0 150,61 120,61 120,30 30,30 30,120 61,120 61,150 0,150"/>
                            <polygon points="155,30 155,15 170,15 170,30 167,30 167,18 158,18 158,30"/>
                            <polygon points="175,30 175,15 178,15 178,27 190,27 190,30"/>
                            <polygon points="195,15 198,15 198,21 207,21 207,15 210,15 210,24 204,24 204,30 201,30 201,24 195,24"/>
                            
                            <!-- Premium -->
                            <polygon points="60,210 60,60 210,60 210,150 90,150 90,120 180,120 180,90 90,90 90,210"/>
                            <polygon points="215,75 230,75 230,78 218,78 218,90 215,90"/>
                            <polygon points="235,75 250,75 250,78 238,78 238,81 250,81 250,84 238,84 238,87 250,87 250,90 235,90"/>
                            <polygon points="255,75 270,75 270,90 267,90 267,78 264,78 264,90 261,90 261,78 258,78 258,90 255,90"/>
                            <polygon points="275,75 278,75 278,90 275,90"/>
                            <polygon points="283,75 286,75 286,87 295,87 295,75, 298,75 298,90 283,90"/>
                            <polygon points="301,75 316,75 316,90 313,90 313,78 310,78 310,90 307,90 307,78 304,78 304,90 301,90"/>
                            
                            <!-- Games -->
                            <!-- Subtracted -1 from 120,149 150,149 to get rid of white space. -->
                            <polygon points="120,149 120,270 270,270 270,180 180,180 180,210 240,210 240,240 150,240 150,149"/>
                            <!-- Subtracted -1 from 209,120 209,150 to get rid of white space. -->
                            <polygon points="209,120 270,120 270,150 209,150"/>
                            <polygon points="275,135 290,135 290,150 287,150 287,138 278,138 278,150 275,150"/>
                            <polygon points="278,141 287,141 287,144 278,144"/>
                            <polygon points="295,135 310,135 310,150 307,150 307,138 304,138 304,150 301,150 301,138 298,138 298,150 295,150"/>
                            <polygon points="315,135 330,135 330,138 318,138 318,141 330,141 330,144 318,144 318,147 330,147 330,150 315,150"/>
                            <polygon points="335,135 350,135 350,138 338,138 338,141 350,141 350,150 335,150 335,147 347,147 347,144 335,144"/>
                          
                        </svg>
                    </a>
                </li>
            </ul>
            <ul>
                <li>
                    <fieldset>
                        <input type="checkbox" name="switch" role="switch" data-theme-switcher="dark">
                    </fieldset>
                </li>

                <li>
                    <a href="https://twitter.com/MaekToth" target="_blank">
                        <svg role="img" viewBox="0 0 24 24" height="16px" fill="currentColor" stroke="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg">
                            <path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z" />
                        </svg>
                    </a>
                </li>
            </ul>
        </nav>
    </header>

    <main x-data="{ reviews: [], count: 3 }" x-init="reviews = await (await fetch('/data/data.json')).json();" class="container" style="padding-top: 0;">

        <!--<template x-for="index in Array.from( { length: reviews }, (v, i) => i)">-->

        <template x-if="reviews.length > 0">
            <template x-for="(review, review_index) in count">

                <article x-bind:id="reviews[review_index].id">
                    <template x-if="reviews[review_index].link && reviews[review_index].pros && reviews[review_index].cons && reviews[review_index].verdict && reviews[review_index].rating">
                        <div>
                            <header style="display: flex">
                                <a x-bind:href="reviews[review_index].link" target="_blank">
                                    <img width="100" height="100" style="border-radius: 25%" x-bind:src="'img/' + reviews[review_index].id + '.webp'">
                                </a>
                                <hgroup style="margin-left: 1rem">
                                    <h2>
                                        <span x-text="reviews[review_index].id"></span>. 
                                        <a x-bind:href="reviews[review_index].link" target="_blank"> 
                                        <span x-text="reviews[review_index].title"></span></a>
                                    </h2>
                                    <h3>
                                        <span x-text="reviews[review_index].date"></span>
                                    </h3>
                                </hgroup>
                            </header>
                
                            <div class="grid">
                                <div>
                                    <details open>
                                        <summary>Pros</summary>
                                        <ul>
                                            <template x-if="reviews[review_index].pros.length > 0">
                                                <template x-for="pro in reviews[review_index].pros">
                                                    <li>
                                                        <span x-text="pro"></span>
                                                    </li>
                                                </template>
                                            </template>
                                        </ul>
                                    </details>
                                </div>
                                <div>
                                    <details open>
                                        <summary>Cons</summary>
                                        <ul>
                                            <template x-if="reviews[review_index].cons.length > 0">
                                                <template x-for="con in reviews[review_index].cons">
                                                    <li>
                                                        <span x-text="con"></span>
                                                    </li>
                                                </template>
                                            </template>
                                        </ul>
                                    </details>
                                </div>
                            </div>
                
                            <footer>
                                <hgroup>
                                    <h2>Verdict:</h2>
                                    <h3>
                                        <span x-text="reviews[review_index].verdict"></span>
                                    </h3>
                                </hgroup>
                                <div style="display: flex; justify-content: center;">
                                    <svg role="img" viewBox="0 0 260 48" width="50%" height="50%" xmlns="http://www.w3.org/2000/svg">
                                        <path id="star" d="m25,1 6,17h18l-14,11 5,17-15-10-15,10 5-17-14-11h18z" />
                                        <use href="#star" x="0" fill="currentColor" stroke="currentColor" />
                                        <use href="#star" x="52" x-bind:fill="reviews[review_index].rating > 1 ? 'currentColor' : 'none'" stroke="currentColor" />
                                        <use href="#star" x="104" x-bind:fill="reviews[review_index].rating > 2 ? 'currentColor' : 'none'" stroke="currentColor" />
                                        <use href="#star" x="156" x-bind:fill="reviews[review_index].rating > 3 ? 'currentColor' : 'none'" stroke="currentColor" />
                                        <use href="#star" x="208" x-bind:fill="reviews[review_index].rating > 4 ? 'currentColor' : 'none'" stroke="currentColor" />
                                    </svg>
                                </div>
                            </footer>
                        </div>
                    </template>
                
                    <!-- Old reviews -->
                    <template x-if="!(reviews[review_index].link && reviews[review_index].pros && reviews[review_index].cons && reviews[review_index].verdict && reviews[review_index].rating)">
                        <div style="display: flex">
                            <hgroup style="margin-left: 1rem">
                                <h2>
                                    <span x-text="reviews[review_index].id"></span>.
                                    <span x-text="reviews[review_index].title"></span>
                                </h2>
                                <template x-if="reviews[review_index].date">
                                    <h3>
                                        <span x-text="reviews[review_index].date"></span>
                                    </h3>
                                </template>
                            </hgroup>
                        </div>
                    </template>
                </article>
            </template>
        </template>

        <div style="display: flex; justify-content: center;">
            <div x-show="count != reviews.length">
                <button x-on:click="count + 3 > reviews.length ? count = reviews.length : count += 3">Load more ...</button>
            </div>
        </div>
    </main>

    <footer class="container" style="text-align: center;">
        Built with
        <a href="https://picocss.com" target="_blank">Pico.css</a>
        and
        <a href="https://alpinejs.dev" target="_blank">Alpine.js</a>
        by
        <a href="https://twitter.com/MaekToth" target="_blank">Marek Toth</a>
        in 2021.
    </footer>

    <!-- Minimal theme switcher -->
    <script src="js/minimal-theme-switcher.js"></script>

</body>

</html>