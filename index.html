<!DOCTYPE html>
<html data-theme="light">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Only Premium Games</title>
    <link rel="stylesheet" href="css/pico.min.css" />
    <script defer src="https://unpkg.com/alpinejs@3.4.2/dist/cdn.min.js"></script>
</head>

<body>
    <header class="container">
        <nav>
            <ul>
                <li><a href="#">Rules</a></li>
                <li><a href="#">About</a></li>
            </ul>
            <ul>
                <li>
                    <a href="#">
                        <svg role="img" aria-hidden="true" focusable="false" viewBox="0 0 350 270" width="100%" height="100%" style="max-width: 350px; max-height: 270px" fill="currentColor" stroke="none" stroke-width="0" xmlns="http://www.w3.org/2000/svg">
                            <path d="M0,0L150,0L150,60L120,60L120,30L30,30L30,120L60,120L60,150L0,150L0,0Z" />
                            <path d="M155,30L155,15L170,15L170,30L167,30L167,18L158,18L158,30L155,30Z" />
                            <path d="M175,30L175,15L178,15L178,27L190,27L190,30L175,30Z" />
                            <path d="M195,15L198,15L198,21L207,21L207,15L210,15L210,24L204,24L204,30L201,30L201,24L195,24L195,15Z" />
                            <path d="M60,210L60,60L210,60L210,150L90,150L90,120L180,120L180,90L90,90L90,210L60,210Z" />
                            <path d="M215,75L230,75L230,78L218,78L218,90L215,90L215,75Z" />
                            <path d="M235,75L250,75L250,78L238,78L238,81L250,81L250,84L238,84L238,87L250,87L250,90L235,90L235,75Z" />
                            <path d="M255,75L270,75L270,90L267,90L267,78L264,78L264,90L261,90L261,78L258,78L258,90L255,90L255,75Z" />
                            <path d="M275,75L278,75L278,90L275,90L275,75Z" />
                            <path d="M283,75L286,75L286,87L295,87L295,75L298,75L298,90L283,90L283,75Z" />
                            <path d="M303,75L318,75L318,90L315,90L315,78L312,78L312,90L309,90L309,78L306,78L306,90L303,90L303,75Z" />
                            <path d="M120,150L120,270L270,270L270,180L180,180L180,210L240,210L240,240L150,240L150,150L120,150Z" />
                            <path d="M210,120L270,120L270,150L210,150L210,120Z" />
                            <path d="M275,135L290,135L290,150L287,150L287,138L278,138L278,150L275,150L275,135Z" />
                            <path d="M278,141L287,141L287,144L278,144L278,141Z" />
                            <path d="M295,135L310,135L310,150L307,150L307,138L304,138L304,150L301,150L301,138L298,138L298,150L295,150L295,135Z" />
                            <path d="M315,135L330,135L330,138L318,138L318,141L330,141L330,144L318,144L318,147L330,147L330,150L315,150L315,135Z" />
                            <path d="M335,135L350,135L350,138L338,138L338,141L350,141L350,150L335,150L335,147L347,147L347,144L335,144L335,135Z" />
                        </svg>
                    </a>
                </li>
            </ul>
            <ul>
                <li>
                    <fieldset>
                        <input type="checkbox" name="switch" role="switch" data-theme-switcher="dark">
                    </fieldset>
                </li>

                <li>
                    <a href="https://twitter.com/MaekToth" target="_blank">
                        <svg role="img" viewBox="0 0 24 24" height="16px" fill="currentColor" stroke="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg">
                            <path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z" />
                        </svg>
                    </a>
                </li>
            </ul>
        </nav>
    </header>

    <main x-data="{ reviews: [], count: 3 }" x-init="reviews = await (await fetch('/data/data.json')).json();" class="container">

        <!--<template x-for="index in Array.from( { length: reviews }, (v, i) => i)">-->

        <template x-if="reviews.length > 0">
            <template x-for="(review, review_index) in count">

                <article x-bind:id="reviews[review_index].id">
                    <template x-if="reviews[review_index].link && reviews[review_index].icon && reviews[review_index].pros && reviews[review_index].cons && reviews[review_index].verdict && reviews[review_index].rating">
                        <div>
                            <header style="display: flex">
                                <a x-bind:href="reviews[review_index].link" target="_blank">
                                    <img width="100" height="100" style="border-radius: 25%" x-bind:src="reviews[review_index].icon">
                                </a>
                                <hgroup style="margin-left: 1rem">
                                    <h2>
                                        <span x-text="reviews[review_index].id"></span>. 
                                        <a x-bind:href="reviews[review_index].link" target="_blank"> 
                                        <span x-text="reviews[review_index].title"></span></a>
                                    </h2>
                                    <h3>
                                        <span x-text="reviews[review_index].date"></span>
                                    </h3>
                                </hgroup>
                            </header>
                
                            <div class="grid">
                                <div>
                                    <details open>
                                        <summary>Pros</summary>
                                        <ul>
                                            <template x-if="reviews[review_index].pros.length > 0">
                                                <template x-for="(pro, pro_index) in reviews[review_index].pros.length">
                                                    <li>
                                                        <span x-text="reviews[review_index].pros[pro_index]"></span>
                                                    </li>
                                                </template>
                                            </template>
                                        </ul>
                                    </details>
                                </div>
                                <div>
                                    <details open>
                                        <summary>Cons</summary>
                                        <ul>
                                            <template x-if="reviews[review_index].cons.length > 0">
                                                <template x-for="(con, con_index) in reviews[review_index].cons.length">
                                                    <li>
                                                        <span x-text="reviews[review_index].cons[con_index]"></span>
                                                    </li>
                                                </template>
                                            </template>
                                        </ul>
                                    </details>
                                </div>
                            </div>
                
                            <footer>
                                <hgroup>
                                    <h2>Verdict:</h2>
                                    <h3>
                                        <span x-text="reviews[review_index].verdict"></span>
                                    </h3>
                                </hgroup>
                                <div style="display: flex; justify-content: center;">
                                    <svg role="img" viewBox="0 0 260 48" width="50%" height="50%" xmlns="http://www.w3.org/2000/svg">
                                        <path id="star" d="m25,1 6,17h18l-14,11 5,17-15-10-15,10 5-17-14-11h18z" />
                                        <use href="#star" x="0" fill="currentColor" stroke="currentColor" />
                                        <use href="#star" x="52" x-bind:fill="reviews[review_index].rating > 1 ? 'currentColor' : 'none'" stroke="currentColor" />
                                        <use href="#star" x="104" x-bind:fill="reviews[review_index].rating > 2 ? 'currentColor' : 'none'" stroke="currentColor" />
                                        <use href="#star" x="156" x-bind:fill="reviews[review_index].rating > 3 ? 'currentColor' : 'none'" stroke="currentColor" />
                                        <use href="#star" x="208" x-bind:fill="reviews[review_index].rating > 4 ? 'currentColor' : 'none'" stroke="currentColor" />
                                    </svg>
                                </div>
                            </footer>
                        </div>
                    </template>
                
                    <!-- Old reviews -->
                    <template x-if="!(reviews[review_index].link && reviews[review_index].icon && reviews[review_index].pros && reviews[review_index].cons && reviews[review_index].verdict && reviews[review_index].rating)">
                        <div style="display: flex">
                            <hgroup style="margin-left: 1rem">
                                <h2>
                                    <span x-text="reviews[review_index].id"></span>.
                                    <span x-text="reviews[review_index].title"></span>
                                </h2>
                                <template x-if="reviews[review_index].date">
                                    <h3>
                                        <span x-text="reviews[review_index].date"></span>
                                    </h3>
                                </template>
                            </hgroup>
                        </div>
                    </template>
                </article>
            </template>
        </template>

        <div style="display: flex; justify-content: center;">
            <div x-show="count != reviews.length">
                <button x-on:click="count + 3 > reviews.length ? count = reviews.length : count += 3">Load more ...</button>
            </div>
        </div>
    </main>

    <footer class="container">
        Built with
        <a href="https://picocss.com" target="_blank">Pico.css</a>
        and
        <a href="https://alpinejs.dev" target="_blank">Alpine.js</a>
        by
        <a href="https://twitter.com/MaekToth" target="_blank">Marek Toth</a>
        in 2021.
    </footer>

    <!-- Minimal theme switcher -->
    <script src="js/minimal-theme-switcher.js"></script>

</body>

</html>