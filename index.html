<!DOCTYPE html>
<html data-theme="light">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Only Premium Games</title>
    <link rel="stylesheet" href="css/pico.min.css" />
    <link rel="stylesheet" href="css/style.css" />
    <script defer src="https://unpkg.com/alpinejs@3.4.2/dist/cdn.min.js"></script>
    <script defer src="js/init-theme.js"></script>
</head>

<body>
    <header class="container">
        <nav>
            <ul class="logo">
                <li>
                    <a href="index.html">
                        <svg role="img" aria-hidden="true" focusable="false" viewBox="0 0 270 270" width="100%" height="100%" style="max-width: 270px; max-height: 270px" fill="currentColor" stroke="none" stroke-width="0" xmlns="http://www.w3.org/2000/svg">
                            <polygon points="0,0 150,0 150,61 120,61 120,30 30,30 30,120 61,120 61,150 0,150"/>
                            <polygon points="60,210 60,60 210,60 210,150 90,150 90,120 180,120 180,90 90,90 90,210"/>
                            <polygon points="120,149 120,270 270,270 270,180 180,180 180,210 240,210 240,240 150,240 150,149"/>
                            <polygon points="209,120 270,120 270,150 209,150"/>
                        </svg>
                    </a>
                </li>
                <li>
                    <span style="color: var(--primary);"><strong>Only Premium Games</strong></span>
                </li>
            </ul>
            <ul class="links">
                <li>
                    <a href="about.html"><strong>About</strong></a>
                </li>
                <li>
                    <a href="#" class="theme" data-theme-toggler="dark"><strong>Theme</strong></a>
                </li>
            </ul>
        </nav>
    </header>

    <main class="container" style="padding-top: 0">

        <div x-data="{ games: [], count: 3 }" x-init="games = await (await fetch('/data/data.json')).json();">
            <h2>Finished Games</h2>
            <template x-if="games.length > 0">
                <template x-for="(game, game_index) in count">
                    <div>
                        <template x-if="games[game_index].id == 310">
                            <h2>No more thoughts from here on. Just a plain list to keep track for myself ...</h2>
                        </template>
                        <article x-bind:id="games[game_index].id">
                            <template x-if="games[game_index].link">
                                <header style="display: flex">
                                    <a x-bind:href="games[game_index].link" target="_blank">
                                        <img width="100px" height="100px" class="image" x-bind:src="'img/' + games[game_index].id + '.webp'">
                                    </a>
                                    <hgroup style="margin-left: 1rem">
                                        <h3>
                                            <span x-html="games[game_index].id + '.'"></span>
                                            <a x-bind:href="games[game_index].link" target="_blank">
                                                <span x-html="games[game_index].title"></span>
                                            </a>
                                        </h3>
                                        <h5>
                                            <span x-text="games[game_index].date"></span>
                                        </h5>
                                    </hgroup>
                                </header>
                            </template>
        
                            <!-- Titles and dates for old games are displayed in the body of the article. -->
                            <template x-if="!games[game_index].link">
                                <hgroup>
                                    <h3>
                                        <span x-html="games[game_index].id + '.'"></span>
                                        <span x-html="games[game_index].title"></span>
                                    </h3>
                                    <h5>
                                        <template x-if="games[game_index].date">
                                            <span x-text="games[game_index].date"></span>
                                        </template>
                                    </h5>
                                </hgroup>
                            </template>
        
                            <template x-if="games[game_index].pros && games[game_index].cons">
                                <div class="grid">
                                    <div>
                                        <details open>
                                            <summary>Pros</summary>
                                            <ul>
                                                <template x-if="games[game_index].pros.length > 0">
                                                    <template x-for="pro in games[game_index].pros">
                                                        <li style="list-style-type: '+ '">
                                                            <span x-text="pro"></span>
                                                        </li>
                                                    </template>
                                                </template>
                                            </ul>
                                        </details>
                                    </div>
                                    <div>
                                        <details open>
                                            <summary>Cons</summary>
                                            <ul>
                                                <template x-if="games[game_index].cons.length > 0">
                                                    <template x-for="con in games[game_index].cons">
                                                        <li style="list-style-type: '- '">
                                                            <span x-text="con"></span>
                                                        </li>
                                                    </template>
                                                </template>
                                            </ul>
                                        </details>
                                    </div>
                                </div>
                            </template>
        
                            <template x-if="games[game_index].verdict && games[game_index].rating">
                                <footer>
                                    <hgroup>
                                        <h3>Verdict:</h3>
                                        <h4>
                                            <span x-text="games[game_index].verdict"></span>
                                        </h4>
                                    </hgroup>
                                    <div style="display: flex; justify-content: center">
                                        <svg role="img" viewBox="0 0 260 48" width="50%" height="50%" xmlns="http://www.w3.org/2000/svg">
                                            <path id="star" d="m25,1 6,17h18l-14,11 5,17-15-10-15,10 5-17-14-11h18z" />
                                            <use href="#star" x="0" fill="currentColor" stroke="currentColor" />
                                            <use href="#star" x="52" x-bind:fill="games[game_index].rating > 1 ? 'currentColor' : 'none'" stroke="currentColor" />
                                            <use href="#star" x="104" x-bind:fill="games[game_index].rating > 2 ? 'currentColor' : 'none'" stroke="currentColor" />
                                            <use href="#star" x="156" x-bind:fill="games[game_index].rating > 3 ? 'currentColor' : 'none'" stroke="currentColor" />
                                            <use href="#star" x="208" x-bind:fill="games[game_index].rating > 4 ? 'currentColor' : 'none'" stroke="currentColor" />
                                        </svg>
                                    </div>
                                </footer>
                            </template>
                        </article>
                    </div>
            </template>
        </template>
            <div style="display: flex; justify-content: center;">
                <div x-show="count != games.length">
                    <button class="secondary" x-on:click="count + 3 > games.length ? count = games.length : count += 3">Load more ...</button>
                </div>
            </div>
        </div>

    </main>

    <footer class="container">
        Built with
        <a href="https://picocss.com" target="_blank">Pico.css</a>
        and
        <a href="https://alpinejs.dev" target="_blank">Alpine.js</a>
        by
        <a href="about.html" >Ma(r)ek Toth</a>
        in 2022.
    </footer>

    <script src="js/toggle-theme.js"></script>

</body>

</html>